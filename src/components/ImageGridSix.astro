---
// src/components/ImageGridSix.astro
// å…­å®«æ ¼æ¨¡å— (3x2 å¸ƒå±€) - æœ€ç»ˆå…¨å®½å®¹å™¨çº¯å‡€ç‰ˆ + æ€§èƒ½ä¼˜åŒ–

// æ¨¡å—æ•°æ®ï¼šåªä½¿ç”¨ 6 ä¸ªå›¾ç‰‡
const gridItems = [
    { src: '/images/grid/grid-1.jpg', alt: 'äº§å“ç‰¹æ€§ 1ï¼šæ¨¡å—åŒ–è®¾è®¡' },
    { src: '/images/grid/grid-2.png', alt: 'äº§å“ç‰¹æ€§ 2ï¼šé˜²æ°´é¢æ–™' },
    { src: '/images/grid/grid-3.jpg', alt: 'äº§å“ç‰¹æ€§ 3ï¼šæ‰©å±•ç©ºé—´' },
    { src: '/images/grid/grid-4.jpg', alt: 'åœºæ™¯ 1ï¼šæˆ·å¤–æ—…è¡Œ' },
    { src: '/images/grid/grid-5.jpg', alt: 'åœºæ™¯ 2ï¼šåŸå¸‚é€šå‹¤' },
    { src: '/images/grid/grid-6.jpg', alt: 'åœºæ™¯ 3ï¼šæ‘„å½±è£…å¤‡' },
];

interface Props {
    title: string; // æ¨¡å—ä¸»æ ‡é¢˜
}

const { title } = Astro.props;

const itemsToRender = gridItems;
---

<section class="manetta-image-grid-section">
    <div class="manetta-container">
        <h2 class="manetta-grid-title">{title}</h2>

        <div class="manetta-image-grid">
            {itemsToRender.map((item, index) => (
                <div class="manetta-grid-item" data-index={index}>
                    <div class="manetta-aspect-ratio-box">
                        <img
                            src={item.src}
                            alt={item.alt}
                            loading="lazy"
                            decoding="async"
                            width="600"
                            height="600"
                            />
                    </div>
                </div>
            ))}
        </div>
    </div>
</section>

<style>
/* * =======================================================
 * ImageGridSix.astro å†…éƒ¨æ ·å¼ (æœ€ç»ˆå…¨å®½å®¹å™¨çº¯å‡€ç‰ˆ + æ€§èƒ½ä¼˜åŒ–)
 * =======================================================
 */

/* ------------------------------------- */
/* ğŸ¯ æ€§èƒ½ä¼˜åŒ–ï¼šContent Visibility */
/* ------------------------------------- */
.manetta-image-grid-section {
    /* é»˜è®¤/æ‰‹æœºç«¯è¾¹è· */
    --padding-x: 20px;

    padding: 60px 0;
    text-align: left;
    box-sizing: border-box;

    /* ğŸš€ ä¼˜åŒ–ç‚¹ 2: Content Visibility */
    content-visibility: auto;
    contain: layout style;

    /* æ¨¡å—å…¨å®½ */
    width: 100vw;
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
}

/* ------------------------------------- */
/* 2. manetta-container (çº¯ç²¹å…¨å®½ï¼Œæ—  margin, æ—  padding, æ—  max-width) */
/* ------------------------------------- */
.manetta-container {
    width: 100%;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

.manetta-grid-title {
    text-align: left;
    font-size: clamp(1.8rem, 2.5vw, 2.5rem);
    margin-bottom: 40px;
    color: #333;
    box-sizing: border-box;

    /* æ ‡é¢˜ç°åœ¨è‡ªè¡Œè®¾ç½® padding æ¥ä¿è¯è¾¹è· */
    padding: 0 var(--padding-x);

    font-family: 'Manetta-ElmsSans', sans-serif;
    font-weight: 400;
}


/* ------------------------------------- */
/* 3. manetta-image-grid (å…¨å®½ï¼Œå†…éƒ¨ padding çº¦æŸå†…å®¹) */
/* ------------------------------------- */
.manetta-image-grid {
    display: grid;
    /* æ‰‹æœºç«¯é»˜è®¤ï¼š2 åˆ— (3 è¡Œ) */
    grid-template-columns: repeat(2, 1fr);
    gap: 15px;

    /* Grid å®¹å™¨æœ¬èº«æ²¡æœ‰ margin éœ€è¦ï¼Œç›´æ¥å æ® 100% å®½åº¦ */
    width: 100%;
    margin: 0;

    /* Grid å®¹å™¨å†…éƒ¨ä½¿ç”¨ padding æ¥çº¦æŸå›¾ç‰‡å†…å®¹ */
    padding-left: var(--padding-x);
    padding-right: var(--padding-x);
    padding-top: 0;
    padding-bottom: 0;
}


/* ------------------------------------- */
/* 4. 1:1 æ¯”ä¾‹ (Padding Hack) */
/* ------------------------------------- */
.manetta-aspect-ratio-box {
    position: relative;
    padding-bottom: 100%; /* 1:1 æ¯”ä¾‹ */
    height: 0;
    width: 100%;
    overflow: hidden;
}

.manetta-aspect-ratio-box img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 0.3s ease-out;
    will-change: transform;
}


/* ------------------------------------- */
/* 5. å“åº”å¼è¾¹è·æ§åˆ¶ */
/* ------------------------------------- */

/* å¹³æ¿ç«¯ (â‰¥ 768px) - 48px è¾¹è· */
@media (min-width: 768px) {
    .manetta-image-grid-section {
        /* ğŸ¯ å¹³æ¿ç«¯è¾¹è·ï¼š48px */
        --padding-x: 48px;
    }
    .manetta-image-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 30px;
    }
}

/* æ¡Œé¢ç«¯ (â‰¥ 1025px) - 64px è¾¹è· */
@media (min-width: 1025px) {
    .manetta-image-grid-section {
        /* ğŸ¯ æ¡Œé¢ç«¯è¾¹è·ï¼š64px */
        --padding-x: 64px;
    }
}

/* å…¶ä»–æ ·å¼ (Grid Item å’Œ Hover æ•ˆæœ) */
.manetta-grid-item {
    background-color: #f7f7f7;
    border-radius: 8px;
    transition: box-shadow 0.3s ease-out, transform 0.3s ease-out;
    will-change: transform;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    overflow: visible;
}
.manetta-grid-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}
.manetta-grid-item:hover .manetta-aspect-ratio-box img {
    transform: scale(1.05);
}
</style>