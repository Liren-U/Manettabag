---
// src/components/HeroBanner.astro

interface Props {
  title: string;
  description: string;
  desktopImage: string; // 背景图 (桌面)
  mobileImage: string;  // 背景图 (移动)
  productImage: string; // 新增：右侧产品图
  productAlt?: string;  // 新增：产品图描述
}

const { 
  title, 
  description, 
  desktopImage, 
  mobileImage, 
  productImage,
  productAlt = "Manetta Camera Bag"
} = Astro.props;
---

<section class="hero-banner">
    {/* 1. 背景层：绝对定位，铺满底层 */}
    <div class="hero-banner__bg">
        <picture>
            <source srcset={mobileImage} media="(max-width: 768px)">
            <img 
                src={desktopImage} 
                alt="" 
                class="hero-banner__bg-img"
                loading="eager"
                decoding="async"
                fetchpriority="high"
            />
        </picture>
        <div class="hero-banner__overlay"></div>
    </div>

    {/* 2. 内容层：相对定位，分为左右两栏 */}
    <div class="hero-banner__container">
        <div class="hero-banner__content-wrapper">
            
            {/* 左侧：文字内容 */}
            <div class="hero-content__left">
                <h1>{title}</h1>
                <p>{description}</p>
                {/* 如果需要按钮，可以在这里添加 */}
                {/* <a href="#shop" class="hero-btn">Shop Now</a> */}
            </div>

            {/* 右侧：产品图片 */}
            <div class="hero-content__right">
                <img 
                    src={productImage} 
                    alt={productAlt} 
                    class="hero-product-img"
                    loading="eager"
                />
            </div>

        </div>
    </div>
</section>

<style>
/* * 布局策略：
 * 1. 外部容器 (.hero-banner) 相对定位。
 * 2. 背景层 (.hero-banner__bg) 绝对定位铺满，z-index 低。
 * 3. 内容层 (.hero-banner__container) 相对定位，z-index 高，使用 Flexbox 布局。
 */

.hero-banner {
    position: relative;
    width: 100%;
    overflow: hidden;
    background-color: #333; /* 图片加载前的背景色 */
}

/* --- 背景层样式 --- */
.hero-banner__bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
}

.hero-banner__bg-img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* 关键：确保背景图覆盖整个区域且不变形 */
    display: block;
}

.hero-banner__overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4); /* 半透明遮罩 */
    z-index: 2;
}

/* --- 内容层样式 --- */
.hero-banner__container {
    position: relative;
    z-index: 3;
    width: 100%;
    /* 限制最大宽度，防止在大屏上太散 */
    max-width: 1400px; 
    margin: 0 auto;
    padding: 80px 40px; /* 上下左右内边距 */
}

.hero-banner__content-wrapper {
    display: flex;
    align-items: center; /* 垂直居中 */
    justify-content: space-between; /* 左右分布 */
    gap: 40px; /* 左右栏之间的间距 */
}

/* --- 左侧文字 --- */
.hero-content__left {
    flex: 1; /* 占据剩余空间 */
    max-width: 600px; /* 限制文字最大宽度，增加可读性 */
    text-align: left; /* 文字左对齐 */
    color: #ffffff;
}

.hero-content__left h1 {
    font-size: clamp(2rem, 3.5vw, 3.5rem); /* 流体字体 */
    line-height: 1.1;
    font-weight: bold;
    margin-bottom: 20px;
}

.hero-content__left p {
    font-size: clamp(1rem, 1.2vw, 1.25rem);
    line-height: 1.6;
    opacity: 0.9;
}

/* --- 右侧产品图 --- */
.hero-content__right {
    flex: 1; /* 占据剩余空间 */
    display: flex;
    justify-content: center; /* 图片在右侧区域内居中 */
    align-items: center;
}

.hero-product-img {
    width: 100%;
    max-width: 500px; /* 限制产品图最大宽度 */
    height: auto;
    /* 可选：给产品图加一点投影，增加立体感 */
    filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3)); 
}

/* --- 响应式设计 (平板和手机) --- */
@media (max-width: 900px) {
    .hero-banner__container {
        padding: 60px 20px;
    }

    .hero-banner__content-wrapper {
        flex-direction: column-reverse; /* 手机端：图片在上，文字在下 (或者用 column) */
        /* 如果希望文字在上，图片在下，请改为 flex-direction: column; */
        text-align: center;
    }

    .hero-content__left {
        text-align: center; /* 手机端文字居中 */
        margin-top: 30px;
        max-width: 100%;
    }

    .hero-content__right {
        width: 100%;
    }

    .hero-product-img {
        max-width: 80%; /* 手机端图片稍微缩小一点 */
    }
}
</style>