---
// src/components/ManettaBag-MarqueeBanner.astro
// ğŸš€ æ€§èƒ½ä¼˜åŒ–ç‰ˆ (High Performance Marquee)
// ä¼˜åŒ–ç‚¹ï¼šGPUåˆæˆå±‚ã€å¸ƒå±€éš”ç¦»ã€è‡ªåŠ¨åŒå€å†…å®¹å®ç°æ— ç¼å¾ªç¯

interface Props {
  messages?: string[];
}

const { messages = [
  "âš¡ï¸ LAUNCHING SOON ON KICKSTARTER",
  "GET 34% OFF SUPER EARLY BIRD",
  "THE ULTIMATE 3-IN-1 MODULAR SYSTEM",
] } = Astro.props;

// â­ å…³é”®ä¼˜åŒ–ï¼šè‡ªåŠ¨ç”ŸæˆåŒä»½æ•°æ®
// CSS åŠ¨ç”»æ˜¯ translateX(-50%)ï¼Œæ„å‘³ç€æˆ‘ä»¬éœ€è¦ä¸¤å¥—å®Œå…¨ä¸€æ ·çš„å†…å®¹æ‹¼æ¥
// ç¬¬ä¸€å¥—æ»šå‡ºå±å¹•æ—¶ï¼Œç¬¬äºŒå¥—åˆšå¥½è¡¥ä½ï¼Œä»è€Œå®ç°æ— ç¼é‡ç½®
const marqueeContent = [...messages, ...messages];
const halfIndex = messages.length;
---

<div 
  class="marquee-container py-5 overflow-hidden select-none relative z-20 w-full contain-content pointer-events-none"
>
  <div class="animate-scroll whitespace-nowrap flex items-center will-change-transform">
    
    {marqueeContent.map((msg, index) => {
      // åˆ¤æ–­æ˜¯å¦ä¸ºå¤åˆ¶å‡ºæ¥çš„ç¬¬äºŒä»½å†…å®¹ (ç”¨äºæ— éšœç¢éšè—)
      const isClone = index >= halfIndex;

      return (
        /* aria-hidden="true" å¯¹å¤åˆ¶çš„å…‹éš†ä½“éšè—ï¼Œæå‡ A11Y åˆ†æ•° */
        <div class="flex items-center shrink-0" aria-hidden={isClone ? "true" : undefined}>
          
          <span class="text-white font-display font-black italic text-3xl mx-10 tracking-tighter">
            {msg}
          </span>

          <span class="text-dark-main font-display font-black text-3xl mx-10 opacity-80">
            ///
          </span>
          
        </div>
      );
    })}
  </div>
</div>